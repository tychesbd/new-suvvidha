"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[909],{4909:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var s=a(5043),n=a(3845),i=a(6446),l=a(5865),r=a(3336),d=a(5795),c=a(1906),o=a(8903),x=a(3193),h=a(9190),u=a(9285),m=a(2143),A=a(9650),p=a(1806),j=a(4882),v=a(8076),y=a(2420),g=a(3460),S=a(8483),b=a(7392),f=a(35),D=a(6600),w=a(5316),C=a(9347),P=a(4535),k=a(9778),z=a(7260),_=a(8242),V=a(579);const B=[{_id:"1",vendor:{_id:"101",name:"Vendor 1",email:"vendor1@example.com"},plan:"premium",price:4999,startDate:new Date("2023-10-01"),endDate:new Date("2024-04-01"),status:"active",paymentStatus:"paid",features:["Premium service listing","Dedicated customer support","Advanced analytics","Marketing tools","180 days validity"]},{_id:"2",vendor:{_id:"102",name:"Vendor 2",email:"vendor2@example.com"},plan:"standard",price:2499,startDate:new Date("2023-11-15"),endDate:new Date("2024-02-15"),status:"active",paymentStatus:"paid",features:["Featured service listing","Priority customer support","Analytics dashboard","90 days validity"]},{_id:"3",vendor:{_id:"103",name:"Vendor 3",email:"vendor3@example.com"},plan:"basic",price:999,startDate:new Date("2023-12-01"),endDate:new Date("2024-01-01"),status:"expired",paymentStatus:"paid",features:["Basic service listing","Customer support","30 days validity"]},{_id:"4",vendor:{_id:"104",name:"Vendor 4",email:"vendor4@example.com"},plan:"premium",price:4999,startDate:new Date("2023-12-15"),endDate:new Date("2024-06-15"),status:"pending",paymentStatus:"pending",features:["Premium service listing","Dedicated customer support","Advanced analytics","Marketing tools","180 days validity"]}],L=(0,P.Ay)(n.A)((e=>{let{theme:t,status:a}=e,s=t.palette.info.main,n=t.palette.info.light;return"active"===a?(s=t.palette.success.main,n=t.palette.success.light):"expired"===a?(s=t.palette.error.main,n=t.palette.error.light):"pending"===a&&(s=t.palette.warning.main,n=t.palette.warning.light),{color:s,backgroundColor:n,fontWeight:"bold","& .MuiChip-label":{textTransform:"capitalize"}}})),E=()=>{const[e,t]=(0,s.useState)(B),[a,n]=(0,s.useState)(B),[P,E]=(0,s.useState)({plan:"",status:"",paymentStatus:"",search:""}),[F,W]=(0,s.useState)(!1),[M,T]=(0,s.useState)(null),[I,H]=(0,s.useState)(!1),[N,R]=(0,s.useState)(!1);(0,s.useEffect)((()=>{}),[]),(0,s.useEffect)((()=>{let t=[...e];if(P.plan&&(t=t.filter((e=>e.plan===P.plan))),P.status&&(t=t.filter((e=>e.status===P.status))),P.paymentStatus&&(t=t.filter((e=>e.paymentStatus===P.paymentStatus))),P.search){const e=P.search.toLowerCase();t=t.filter((t=>t.vendor.name.toLowerCase().includes(e)||t.vendor.email.toLowerCase().includes(e)))}n(t)}),[P,e]);const q=e=>{const{name:t,value:a}=e.target;E((e=>({...e,[t]:a})))};return(0,V.jsxs)(i.A,{children:[(0,V.jsx)(l.A,{variant:"h4",gutterBottom:!0,children:"Subscription Management"}),(0,V.jsx)(l.A,{variant:"subtitle1",color:"text.secondary",paragraph:!0,children:"Manage vendor subscriptions and payment verifications"}),(0,V.jsxs)(r.A,{elevation:2,sx:{p:3,mb:4},children:[(0,V.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,V.jsx)(d.A,{label:"Search by vendor name or email",name:"search",value:P.search,onChange:q,variant:"outlined",size:"small",sx:{width:{xs:"100%",sm:"300px"}}}),(0,V.jsx)(c.A,{startIcon:(0,V.jsx)(_.A,{}),onClick:()=>W(!F),color:"primary",variant:"outlined",children:F?"Hide Filters":"Show Filters"})]}),F&&(0,V.jsxs)(o.Ay,{container:!0,spacing:2,sx:{mb:3},children:[(0,V.jsx)(o.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsxs)(x.A,{fullWidth:!0,size:"small",children:[(0,V.jsx)(h.A,{children:"Plan"}),(0,V.jsxs)(u.A,{name:"plan",value:P.plan,onChange:q,label:"Plan",children:[(0,V.jsx)(m.A,{value:"",children:"All Plans"}),(0,V.jsx)(m.A,{value:"basic",children:"Basic"}),(0,V.jsx)(m.A,{value:"standard",children:"Standard"}),(0,V.jsx)(m.A,{value:"premium",children:"Premium"})]})]})}),(0,V.jsx)(o.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsxs)(x.A,{fullWidth:!0,size:"small",children:[(0,V.jsx)(h.A,{children:"Status"}),(0,V.jsxs)(u.A,{name:"status",value:P.status,onChange:q,label:"Status",children:[(0,V.jsx)(m.A,{value:"",children:"All Statuses"}),(0,V.jsx)(m.A,{value:"active",children:"Active"}),(0,V.jsx)(m.A,{value:"pending",children:"Pending"}),(0,V.jsx)(m.A,{value:"expired",children:"Expired"}),(0,V.jsx)(m.A,{value:"cancelled",children:"Cancelled"})]})]})}),(0,V.jsx)(o.Ay,{item:!0,xs:12,sm:4,children:(0,V.jsxs)(x.A,{fullWidth:!0,size:"small",children:[(0,V.jsx)(h.A,{children:"Payment Status"}),(0,V.jsxs)(u.A,{name:"paymentStatus",value:P.paymentStatus,onChange:q,label:"Payment Status",children:[(0,V.jsx)(m.A,{value:"",children:"All Payment Statuses"}),(0,V.jsx)(m.A,{value:"paid",children:"Paid"}),(0,V.jsx)(m.A,{value:"pending",children:"Pending"}),(0,V.jsx)(m.A,{value:"failed",children:"Failed"})]})]})}),(0,V.jsx)(o.Ay,{item:!0,xs:12,children:(0,V.jsx)(c.A,{variant:"text",onClick:()=>{E({plan:"",status:"",paymentStatus:"",search:""})},children:"Reset Filters"})})]}),(0,V.jsx)(A.A,{children:(0,V.jsxs)(p.A,{children:[(0,V.jsx)(j.A,{children:(0,V.jsxs)(v.A,{children:[(0,V.jsx)(y.A,{children:"Vendor"}),(0,V.jsx)(y.A,{children:"Plan"}),(0,V.jsx)(y.A,{children:"Price"}),(0,V.jsx)(y.A,{children:"Start Date"}),(0,V.jsx)(y.A,{children:"End Date"}),(0,V.jsx)(y.A,{children:"Status"}),(0,V.jsx)(y.A,{children:"Payment"}),(0,V.jsx)(y.A,{children:"Actions"})]})}),(0,V.jsx)(g.A,{children:a.length>0?a.map((e=>(0,V.jsxs)(v.A,{children:[(0,V.jsxs)(y.A,{children:[(0,V.jsx)(l.A,{variant:"body2",children:e.vendor.name}),(0,V.jsx)(l.A,{variant:"caption",color:"text.secondary",children:e.vendor.email})]}),(0,V.jsx)(y.A,{sx:{textTransform:"capitalize"},children:e.plan}),(0,V.jsxs)(y.A,{children:["\u20b9",e.price]}),(0,V.jsx)(y.A,{children:new Date(e.startDate).toLocaleDateString()}),(0,V.jsx)(y.A,{children:new Date(e.endDate).toLocaleDateString()}),(0,V.jsx)(y.A,{children:(0,V.jsx)(L,{label:e.status,status:e.status,size:"small"})}),(0,V.jsx)(y.A,{children:(0,V.jsx)(L,{label:e.paymentStatus,status:"paid"===e.paymentStatus?"active":"pending"===e.paymentStatus?"pending":"expired",size:"small"})}),(0,V.jsxs)(y.A,{children:[(0,V.jsx)(S.A,{title:"View Details",children:(0,V.jsx)(b.A,{size:"small",onClick:()=>(e=>{T(e),H(!0)})(e),children:(0,V.jsx)(z.A,{fontSize:"small"})})}),"pending"===e.paymentStatus&&(0,V.jsx)(S.A,{title:"Verify Payment",children:(0,V.jsx)(b.A,{size:"small",color:"success",onClick:()=>(e=>{T(e),R(!0)})(e),children:(0,V.jsx)(k.A,{fontSize:"small"})})})]})]},e._id))):(0,V.jsx)(v.A,{children:(0,V.jsx)(y.A,{colSpan:8,align:"center",children:"No subscriptions found matching the filters"})})})]})})]}),(0,V.jsxs)(f.A,{open:I,onClose:()=>H(!1),maxWidth:"sm",fullWidth:!0,children:[(0,V.jsx)(D.A,{children:"Subscription Details"}),(0,V.jsx)(w.A,{dividers:!0,children:M&&(0,V.jsxs)(i.A,{children:[(0,V.jsxs)(l.A,{variant:"h6",gutterBottom:!0,sx:{textTransform:"capitalize"},children:[M.plan," Plan"]}),(0,V.jsxs)(o.Ay,{container:!0,spacing:2,children:[(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Vendor"}),(0,V.jsx)(l.A,{variant:"body2",gutterBottom:!0,children:M.vendor.name})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Email"}),(0,V.jsx)(l.A,{variant:"body2",gutterBottom:!0,children:M.vendor.email})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Price"}),(0,V.jsxs)(l.A,{variant:"body2",gutterBottom:!0,children:["\u20b9",M.price]})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Status"}),(0,V.jsx)(L,{label:M.status,status:M.status,size:"small"})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Start Date"}),(0,V.jsx)(l.A,{variant:"body2",gutterBottom:!0,children:new Date(M.startDate).toLocaleDateString()})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:6,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"End Date"}),(0,V.jsx)(l.A,{variant:"body2",gutterBottom:!0,children:new Date(M.endDate).toLocaleDateString()})]}),(0,V.jsxs)(o.Ay,{item:!0,xs:12,children:[(0,V.jsx)(l.A,{variant:"subtitle2",children:"Features"}),(0,V.jsx)(i.A,{component:"ul",sx:{pl:2},children:M.features.map(((e,t)=>(0,V.jsx)(l.A,{component:"li",variant:"body2",children:e},t)))})]})]})]})}),(0,V.jsx)(C.A,{children:(0,V.jsx)(c.A,{onClick:()=>H(!1),children:"Close"})})]}),(0,V.jsxs)(f.A,{open:N,onClose:()=>R(!1),children:[(0,V.jsx)(D.A,{children:"Verify Payment"}),(0,V.jsxs)(w.A,{children:[(0,V.jsx)(l.A,{variant:"body1",children:"Are you sure you want to verify the payment for this subscription?"}),(0,V.jsx)(l.A,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"This will mark the payment as paid and activate the subscription."})]}),(0,V.jsxs)(C.A,{children:[(0,V.jsx)(c.A,{onClick:()=>R(!1),children:"Cancel"}),(0,V.jsx)(c.A,{onClick:async()=>{const a=e.map((e=>e._id===M._id?{...e,paymentStatus:"paid",status:"active"}:e));t(a),R(!1)},color:"success",variant:"contained",children:"Verify Payment"})]})]})]})}}}]);
//# sourceMappingURL=909.b8d35429.chunk.js.map